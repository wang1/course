<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>分数查询</title>
  
  <style>
	 *{   margin: 0;   padding: 0;   box-sizing: border-box; } body{   display: flex;   justify-content: center;   align-items: center;   min-height: 100vh;   background: url(bg.jpg) no-repeat;   background-position: center;   background-size: cover; } .wrapper{   width: 30vw;   min-width: 563px;   background:transparent;   color:white;   border-radius: 1rem;   padding: 1.5rem 2.5rem;   box-shadow: 0 0 .6rem rgba(255, 255, 255, .8);   backdrop-filter: blur(.6rem);   -webkit-backdrop-filter: blur(.6rem); } @media (max-width: 600px){   .wrapper{     min-width: 90%;     padding: .5rem 1rem;   } } .wrapper h1{   font-size: 2rem;   text-align: center; } .wrapper .input-box{   position: relative;   width: 100%;   height: 3rem;   margin:1.8rem 0; } .wrapper .input-box input{   width: 100%;   height: 100%;   background: transparent;   outline: none;   border: 2px solid rgba(255, 255, 255, .2);   border-radius: 2rem;   font-size: 1.2rem;   color: white;   padding: 20px 45px 20px 20px; } .wrapper .input-box input::placeholder{   color: rgb(182, 174, 174); } .wrapper .input-box svg{   position: absolute;   right: 1rem;   top: 30%;   transform: translate(-50%);   font-size: 1.5rem; } .wrapper .sub{   display: flex;   justify-content: space-around; } .wrapper .sub .btn{   padding-inline: 1.6rem;   height: 3rem;   background:transparent;   font-size: 1.5rem;   border: none;   outline: none;   border-radius: 2rem;   box-shadow: 0 0 10px rgba(255, 255, 255, .4);   cursor: pointer;   color: white;   font-weight: 300;   transition: .3s;   position: relative; } .wrapper .sub .btn:hover{   background: rgb(180, 37, 37); } .wrapper .sub .btn svg{   position: relative;   top:.2rem; }   
  </style>
</head>
<body>  
  <div class="wrapper">
    <form onsubmit="return check()" onreset="cl()">
      <h1 id="score">计算机课程考试<br>分数查询</h1>
      <div class="input-box">
        <input type="number" placeholder="学号" required id="num" autofocus>
        <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
          <path fill-rule="evenodd" d="M12 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4h-4Z" clip-rule="evenodd"/>
        </svg>
      </div>
      <div class="input-box">
        <input type="text" placeholder="身份证号" required id="id">
        <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
          <path fill-rule="evenodd" d="M4 4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H4Zm10 5a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm0 3a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm0 3a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm-8-5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm1.942 4a3 3 0 0 0-2.847 2.051l-.044.133-.004.012c-.042.126-.055.167-.042.195.006.013.02.023.038.039.032.025.08.064.146.155A1 1 0 0 0 6 17h6a1 1 0 0 0 .811-.415.713.713 0 0 1 .146-.155c.019-.016.031-.026.038-.04.014-.027 0-.068-.042-.194l-.004-.012-.044-.133A3 3 0 0 0 10.059 14H7.942Z" clip-rule="evenodd"/>
        </svg>        
      </div>
      <div class="sub">
        <button type="submit" class="btn">
          <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="m21 21-3.5-3.5M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"/>
          </svg>          
          查询
        </button>
        <button type="reset" class="btn">
          <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.651 7.65a7.131 7.131 0 0 0-12.68 3.15M18.001 4v4h-4m-7.652 8.35a7.13 7.13 0 0 0 12.68-3.15M6 20v-4h4"/>
          </svg>
          重置
        </button>
      </div>            
    </form>
  </div>
  <script>
    function check(){
      const num = new String(document.getElementById('num').value);
      const id = new String(document.getElementById('id').value);
      if(num.length && id.length){   
        getScore(num, id)        
      }
      return false
    }
    async function getScore(num, id){
      const response = await fetch(`http://10.1.74.238:8964/score?num=${num}&id=${id}`);
      const score = await response.json();
      let info = '';
      if(score.name.length){
        info = `${score.course}<br>${score.name} ${Math.round(score.score)} 分`
      }else{
        info = '计算机课程考试分数查询<br>学号或身份证数据有误？'        
      }
      document.getElementById('score').innerHTML = info;
    }
    function cl(){
      document.getElementById('score').innerHTML = '计算机课程考试<br>分数查询';
    }
  </script>
</body>
</html>
